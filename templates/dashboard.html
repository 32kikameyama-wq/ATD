<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ - ATD</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
</head>
<body>
    <div class="app-layout">
        <!-- å·¦ã‚µã‚¤ãƒ‰ãƒãƒ¼ -->
        <aside class="sidebar">
            <div class="sidebar-nav">
                <a href="{{ url_for('main.dashboard') }}" class="sidebar-item active">
                    <span class="sidebar-icon">ğŸ </span>
                </a>
                <a href="{{ url_for('tasks.create_task') }}" class="sidebar-item">
                    <span class="sidebar-icon">â•</span>
                </a>
                <a href="{{ url_for('main.profile') }}" class="sidebar-item">
                    <span class="sidebar-icon">ğŸ‘¤</span>
                </a>
                <a href="{{ url_for('main.mindmap') }}" class="sidebar-item">
                    <span class="sidebar-icon">ğŸ’¡</span>
                </a>
                <a href="#" class="sidebar-item">
                    <span class="sidebar-icon">â­</span>
                </a>
                <a href="#" class="sidebar-item">
                    <span class="sidebar-icon">âš™ï¸</span>
                </a>
            </div>
        </aside>

        <!-- ãƒ¡ã‚¤ãƒ³ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚¨ãƒªã‚¢ -->
        <div class="main-layout">
            <!-- ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ãƒãƒ¼ -->
            <nav class="navbar">
            <div class="navbar-content">
                <div class="navbar-left">
                    <div class="navbar-brand">ATD</div>
                    <div class="navbar-menu">
                        <a href="{{ url_for('main.dashboard') }}" class="navbar-item active">
                            ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰
                        </a>
                        <a href="{{ url_for('tasks.list_tasks') }}" class="navbar-item">
                            ã‚¿ã‚¹ã‚¯ç®¡ç†
                        </a>
                        <a href="{{ url_for('main.mindmap') }}" class="navbar-item">
                            ãƒã‚¤ãƒ³ãƒ‰ãƒãƒƒãƒ—
                        </a>
                    </div>
                </div>
                <div class="navbar-right">
                    <div class="user-controls">
                        <a href="#" class="user-control active personal-mode">
                            å€‹äºº
                        </a>
                        <a href="#" class="user-control team-mode">
                            ãƒãƒ¼ãƒ 
                        </a>
                        <a href="{{ url_for('main.profile') }}" class="user-control">
                            {{ current_user.username }}
                        </a>
                    </div>
                    <a href="{{ url_for('tasks.create_task') }}" class="btn btn-primary">+ ã‚¿ã‚¹ã‚¯è¿½åŠ </a>
                </div>
            </div>
            </nav>

            <!-- ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ -->
            <div class="container">
            <div class="page-header">
                <h1>ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰</h1>
                <div class="date-selector">
                    <select class="form-control">
                        <option>ä»Šæ—¥</option>
                        <option>ä»Šé€±</option>
                        <option>ä»Šæœˆ</option>
                    </select>
                </div>
            </div>

            <div class="dashboard-grid">
                <!-- ä¸Šæ®µå·¦ï¼šå€‹äººãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ -->
                <div class="card performance-card">
                    <div class="card-header">
                        <h3>ãƒ»å€‹äººãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹</h3>
                    </div>
                    <div class="performance-stats">
                        <div class="stat-item">
                            <div class="stat-value">85%</div>
                            <div class="stat-label">å®Œäº†ç‡</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-value">12</div>
                            <div class="stat-label">å®Œäº†ã‚¿ã‚¹ã‚¯</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-value">5æ—¥</div>
                            <div class="stat-label">é€£ç¶šé”æˆ</div>
                        </div>
                    </div>
                </div>

                <!-- ä¸Šæ®µå³ï¼šä»Šæ—¥ã®ã‚¿ã‚¹ã‚¯ -->
                <div class="card today-tasks-card">
                    <div class="card-header">
                        <h3>ãƒ»ä»Šæ—¥ã®ã‚¿ã‚¹ã‚¯ (0ä»¶)</h3>
                    </div>
                    <div class="today-tasks-content">
                        <!-- ã‚¿ã‚¹ã‚¯ãŒã“ã“ã«è¡¨ç¤ºã•ã‚Œã‚‹ -->
                    </div>
                </div>

                <!-- ä¸‹æ®µå·¦ï¼šé€²æ—åˆ†æ -->
                <div class="card analysis-card">
                    <div class="card-header">
                        <h3>ãƒ»é€²æ—åˆ†æ</h3>
                    </div>
                    <div class="analysis-content">
                        <!-- ã‚°ãƒ©ãƒ•ã‚„ãƒãƒ£ãƒ¼ãƒˆãŒã“ã“ã«è¡¨ç¤ºã•ã‚Œã‚‹ -->
                    </div>
                </div>

                <!-- ä¸‹æ®µå³ï¼šæ™‚é–“åˆ†æ -->
                <div class="card analysis-card">
                    <div class="card-header">
                        <h3>ãƒ»æ™‚é–“åˆ†æ</h3>
                    </div>
                    <div class="analysis-content">
                        <!-- æ™‚é–“åˆ†æã®ã‚°ãƒ©ãƒ•ãŒã“ã“ã«è¡¨ç¤ºã•ã‚Œã‚‹ -->
                    </div>
                </div>
            </div>
            </div>
        </div>
    </div>

    <script>
        // å€‹äºº/ãƒãƒ¼ãƒ åˆ‡ã‚Šæ›¿ãˆ
        document.querySelectorAll('.user-control').forEach(control => {
            control.addEventListener('click', function(e) {
                e.preventDefault();
                
                // å…¨ã¦ã®ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ«ã‹ã‚‰activeã‚¯ãƒ©ã‚¹ã‚’å‰Šé™¤
                document.querySelectorAll('.user-control').forEach(c => c.classList.remove('active'));
                
                // ã‚¯ãƒªãƒƒã‚¯ã•ã‚ŒãŸã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ«ã«activeã‚¯ãƒ©ã‚¹ã‚’è¿½åŠ 
                this.classList.add('active');
                
                const mode = this.textContent.trim();
                console.log('åˆ‡ã‚Šæ›¿ãˆ:', mode);
                
                // ã‚«ãƒ©ãƒ¼ãƒ¢ãƒ¼ãƒ‰ã‚’é©ç”¨
                if (mode === 'å€‹äºº') {
                    this.classList.add('personal-mode');
                    this.classList.remove('team-mode');
                } else if (mode === 'ãƒãƒ¼ãƒ ') {
                    this.classList.add('team-mode');
                    this.classList.remove('personal-mode');
                }
                
                // ã“ã“ã§å€‹äºº/ãƒãƒ¼ãƒ ã®åˆ‡ã‚Šæ›¿ãˆå‡¦ç†ã‚’å®Ÿè£…
            });
        });
    </script>
</body>
</html>

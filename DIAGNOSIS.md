# Railway.app データ消失問題の診断

## 🔍 確認すべきこと

### 1. Railway.app の Logs を確認

Railway.app のダッシュボードで：
1. Web サービスを開く
2. 「Logs」タブを確認
3. 以下のログを探す：
   - `✅ データベーステーブルを作成しました`
   - `✅ 初期管理者ユーザー「亀山瑞喜」を作成しました`
   - `⚠️ データベース初期化エラー`

### 2. PostgreSQL データベースの確認

1. 「PostgreSQL」サービスを開く
2. 「Data」タブを確認
3. テーブルが存在するか確認

### 3. 環境変数の確認

「Variables」タブで以下を確認：
- `DATABASE_URL` が設定されているか
- PostgreSQL の正しいURLが設定されているか

## 💡 考えられる原因

### 原因1: PostgreSQL への接続失敗
- `DATABASE_URL` が正しく設定されていない
- PostgreSQL サービスが停止している

### 原因2: テーブルが作成されていない
- `db.create_all()` が実行されていない
- エラーが出ている

### 原因3: 別のデータベースに接続している
- ローカルのSQLiteと本番のPostgreSQLが混在している

## 🛠️ 対応方法

### 方法1: 手動でユーザーを作成
管理者画面からユーザーを作成し、データが保持されるか確認

### 方法2: Railway.app のログを確認
エラーメッセージがあれば共有してください

### 方法3: PostgreSQL を確認
Railway.app の Data タブでテーブルの存在を確認

